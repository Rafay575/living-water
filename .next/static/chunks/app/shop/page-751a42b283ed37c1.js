(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[21],{6451:function(e,t,r){Promise.resolve().then(r.bind(r,426)),Promise.resolve().then(r.bind(r,8371))},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},5775:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let a=r(7043);r(7437),r(2265);let n=a._(r(5602));function l(e,t){var r;let a={loading:e=>{let{error:t,isLoading:r,pastDelay:a}=e;return null}};"function"==typeof e&&(a.loader=e);let l={...a,...t};return(0,n.default)({...l,modules:null==(r=l.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1523:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let a=r(8993);function n(e){let{reason:t,children:r}=e;if("undefined"==typeof window)throw new a.BailoutToCSRError(t);return r}},5602:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let a=r(7437),n=r(2265),l=r(1523),s=r(49);function i(e){return{default:e&&"default"in e?e.default:e}}let c={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},o=function(e){let t={...c,...e},r=(0,n.lazy)(()=>t.loader().then(i)),o=t.loading;function u(e){let i=o?(0,a.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,c=t.ssr?(0,a.jsxs)(a.Fragment,{children:["undefined"==typeof window?(0,a.jsx)(s.PreloadCss,{moduleIds:t.modules}):null,(0,a.jsx)(r,{...e})]}):(0,a.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(r,{...e})});return(0,a.jsx)(n.Suspense,{fallback:i,children:c})}return u.displayName="LoadableComponent",u}},49:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return l}});let a=r(7437),n=r(544);function l(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let r=(0,n.getExpectedRequestStore)("next/dynamic css"),l=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files.filter(e=>e.endsWith(".css"));l.push(...t)}}return 0===l.length?null:(0,a.jsx)(a.Fragment,{children:l.map(e=>(0,a.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:r.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},2078:function(e,t,r){"use strict";r.d(t,{F:function(){return a}});let a="http://localhost:5000"},426:function(e,t,r){"use strict";r.d(t,{default:function(){return _}});var a=r(7437),n=r(3145),l=r(7524),s=r(2265),i=r(9376),c=r(8575),o=r(5775),u=r.n(o),d=r(2078);let h=u()(()=>r.e(542).then(r.bind(r,1542)).then(e=>e.PayPalScriptProvider),{loadableGenerated:{webpack:()=>[1542]},ssr:!1}),m=u()(()=>r.e(542).then(r.bind(r,1542)).then(e=>e.PayPalButtons),{loadableGenerated:{webpack:()=>[1542]},ssr:!1});function p(e){let{children:t}=e,[r,a]=(0,s.useState)(!1);return(0,s.useEffect)(()=>a(!0),[]),r?t:null}function f(){let e=(0,i.useRouter)(),{token:t}=(0,c.v9)(e=>e.auth),[r,l]=(0,s.useState)("/img/abc.png"),[o,u]=(0,s.useState)(0),[f,v]=(0,s.useState)({type:"",message:""}),[g,j]=(0,s.useState)({line1:"",city:"",state:"",zip:"",country:"",phone:""}),x=Object.values(g).every(e=>e.trim()),b=[{cases:1,description:"12 (20 oz) bottles",price:20},{cases:6,description:"12 (20 oz) bottles",price:110},{cases:12,description:"12 (20 oz) bottles",price:220}],y=b[o],P=async()=>{if(!t){e.push("/login");return}let r=await fetch("".concat(d.F,"/api/purchase/create-order"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({price:y.price,shipping:g})}),{orderID:a}=await r.json();return a},N=async e=>{let r=await fetch("".concat(d.F,"/api/purchase"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({orderID:e.orderID,cases:y.cases,description:y.description,price:y.price,shipping:g})}),a=await r.json();v(r.ok?{type:"success",message:"Purchase recorded!"}:{type:"danger",message:a.error||"Record failed"})};return(0,a.jsxs)("div",{className:"container py-4",style:{marginBottom:"150px"},children:[f.message&&(0,a.jsx)("div",{className:"alert alert-".concat(f.type),children:f.message}),(0,a.jsxs)("div",{className:"row gy-4",children:[(0,a.jsxs)("div",{className:"col-12 col-md-6",children:[(0,a.jsx)("div",{className:"mb-3 d-flex gap-2 flex-wrap",children:b.map((e,t)=>(0,a.jsx)("img",{src:"/img/abc.png",alt:"",className:"img-thumbnail",style:{width:60,height:60,cursor:"pointer"},onClick:()=>l("/img/abc.png")},t))}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)(n.default,{src:r,alt:"Living Water",width:400,height:400,className:"rounded"})})]}),(0,a.jsxs)("div",{className:"col-12 col-md-6",children:[(0,a.jsx)("h1",{className:"fw-bold",children:"Living Water"}),(0,a.jsx)("p",{className:"text-muted",children:"Our water is inherently PURE and free from chemicalsâ€¦"}),(0,a.jsx)("h5",{className:"mt-4",children:"Choose Your Package"}),(0,a.jsx)("div",{className:"row gy-3",children:b.map((e,t)=>(0,a.jsx)("div",{className:"col-md-4",children:(0,a.jsx)("div",{className:"card h-100 text-center ".concat(o===t?"border-primary shadow":""),onClick:()=>u(t),style:{cursor:"pointer"},children:(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsxs)("h6",{children:[e.cases," Case",e.cases>1?"s":""]}),(0,a.jsx)("small",{className:"text-muted d-block",children:e.description}),(0,a.jsxs)("p",{className:"h5 mt-2 mb-0",children:["$",e.price,".00"]}),(0,a.jsx)("small",{className:"text-secondary",children:"USD"})]})})},t))}),(0,a.jsx)("h5",{className:"mt-4",children:"Shipping Address"}),(0,a.jsxs)("div",{className:"row g-3",children:[(0,a.jsx)("div",{className:"col-md-12",children:(0,a.jsx)("input",{className:"form-control",placeholder:"Street address (Line 1)",value:g.line1,onChange:e=>j({...g,line1:e.target.value})})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsx)("input",{className:"form-control",placeholder:"City / Town",value:g.city,onChange:e=>j({...g,city:e.target.value})})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsx)("input",{className:"form-control",placeholder:"State / Province / Region",value:g.state,onChange:e=>j({...g,state:e.target.value})})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsx)("input",{className:"form-control",placeholder:"ZIP / Postal code",value:g.zip,onChange:e=>j({...g,zip:e.target.value})})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsx)("input",{className:"form-control",placeholder:"Country code (e.g. US, PK)",value:g.country,onChange:e=>j({...g,country:e.target.value.toUpperCase()})})}),(0,a.jsx)("div",{className:"col-md-12",children:(0,a.jsx)("input",{className:"form-control",placeholder:"Phone number",value:g.phone,onChange:e=>j({...g,phone:e.target.value})})})]}),(0,a.jsx)("div",{className:"mt-4",suppressHydrationWarning:!0,children:(0,a.jsxs)(p,{children:[(0,a.jsx)(h,{options:{"client-id":"AftLDvxL_UjEtmlHPOL5AptiEIIhbyYOYO55zYFj_bXZnS16sNFZaB_a06j63FO4XB-NY3CdjCpO_IqF",currency:"USD","disable-funding":"paylater,card,credit"},children:(0,a.jsx)(m,{style:{layout:"vertical"},createOrder:P,onApprove:N,onError:e=>{console.error(e),v({type:"danger",message:"PayPal error, please try again."})},disabled:!x})}),!x&&(0,a.jsx)("small",{className:"text-danger",children:"Please complete the shipping form to enable checkout."})]})})]})]})]})}var v=e=>{let t=null==e?void 0:e.split("-");return{lowerLimit:parseInt(t[0]),upperLimit:parseInt(t[1])}},g=r(2397),j=r(9692),x=e=>e.split("_").join(" "),b=(e,t,r,a)=>{switch(t){case"category":return null==e?void 0:e.filter(e=>{let{type:t,category:n}=e;return(0,j.Z)(a?t:n)===r});case"brand":return null==e?void 0:e.filter(e=>{let{brand:t}=e;return(0,j.Z)(t)===r});case"tags":return null==e?void 0:e.filter(e=>{let{tags:t}=e;return null==t?void 0:t.includes(x(r))});case"size":return null==e?void 0:e.filter(e=>{let{size:t}=e;return(0,j.Z)(t)===r});case"color":return null==e?void 0:e.filter(e=>{let{color:t}=e;return(0,j.Z)(t)===r});case"range":let{lowerLimit:n,upperLimit:l}=v(r);return null==e?void 0:e.filter(e=>{let{price:t,disc:r}=e,{netPrice:a}=(0,g.Z)(t,r);return a>=n&&a<=l});case"author":return null==e?void 0:e.filter(e=>{let{author:t}=e;return(0,j.Z)(null==t?void 0:t.name)===r});case"role":return null==e?void 0:e.filter(e=>{let{author:t}=e;return(0,j.Z)(null==t?void 0:t.desig)===r});case"search":if(!r)return[];let s=RegExp(x(r),"i");return null==e?void 0:e.filter(e=>{let{title:t}=e;return s.test(t)});case"popularity":return[...e].sort((e,t)=>t.views-e.views);case"new":return[...e].sort((e,t)=>t.date-e.date);case"price ascending":return[...e].sort((e,t)=>{let{price:r,disc:a}=e,{price:n,disc:l}=t,{netPrice:s}=(0,g.Z)(r,a),{netPrice:i}=(0,g.Z)(n,l);return s-i});case"price descending":return[...e].sort((e,t)=>{let{price:r,disc:a}=e,{price:n,disc:l}=t,{netPrice:s}=(0,g.Z)(r,a),{netPrice:i}=(0,g.Z)(n,l);return i-s});default:return e}},y=(e,t)=>{let[r,a]=(0,s.useState)(null),[n,l]=(0,s.useState)(null),[c,o]=(0,s.useState)(null),[u,d]=(0,s.useState)(!1),[h,m]=(0,s.useState)(!1),p=(0,s.useRef)(null),f=(0,i.useRouter)();return{searchString:r,searchedItems:n,previousSearchedItems:c,isShowSearch:u,setIsShowSearch:d,handleSearch:e=>{e.preventDefault(),f.push("".concat(t,"?search=").concat((0,j.Z)(r))),d(!0),o(n),e.target.search.value=""},handleSearchString:e=>{let t=e.target.value;d(!1),a(t.toLowerCase()),m(!0)},startSearch:()=>{p.current=setTimeout(()=>{l(b(e,"search",r))},200)},closeSearch:()=>{clearTimeout(p.current)},isShowQuickSearchResult:h,setIsShowQuickSearchResult:m}},P=r(11),N=(e,t,r,a,n)=>{let l=setInterval(()=>{window.$&&(clearInterval(l),$(".slider-range").slider({range:!0,min:r,max:t,values:[r,a],slide:function(t,r){e&&e("".concat(r.values[0],"-").concat(r.values[1])),$(".amount").val("$"+r.values[0]+" - $"+r.values[1])}}),$(".amount").val("$"+$(".slider-range").slider("values",0)+" - $"+$(".slider-range").slider("values",1)))},100)},S=r(3002),_=e=>{var t,r,n,c,o,u;let{title:d,isSidebar:h,text:m,currentTapId:p}=e,v=(0,P.Z)(),g=null===(t=(0,i.useSearchParams)())||void 0===t?void 0:t.get("category"),j=null===(r=(0,i.useSearchParams)())||void 0===r?void 0:r.get("brand"),_=null===(n=(0,i.useSearchParams)())||void 0===n?void 0:n.get("tag"),w=null===(c=(0,i.useSearchParams)())||void 0===c?void 0:c.get("size"),C=null===(o=(0,i.useSearchParams)())||void 0===o?void 0:o.get("color"),O=null===(u=(0,i.useSearchParams)())||void 0===u?void 0:u.get("search"),Z=(0,i.usePathname)(),[z,k]=(0,s.useState)(null),{searchedItems:R,isShowSearch:L,handleSearch:E,handleSearchString:I,startSearch:T,closeSearch:B,isShowQuickSearchResult:F,setIsShowQuickSearchResult:M}=y(v,Z),D=b(v,g?"category":j?"brand":_?"tags":w?"size":C?"color":O?"search":"",g||j||_||w||C||O||"",!0),U=b(D,z?"range":"",z||"");return(0,s.useEffect)(()=>{N(k,5e3,50,1500,!0),k(null)},[g,_,,w,,C,,O,50,5e3,1500]),(0,s.useEffect)(()=>{N(k,5e3,50,1500)},[50,1500,5e3]),(0,a.jsxs)("main",{children:[(0,a.jsx)(l.Z,{title:g?"Category: ".concat(x(g)):j?"Brand: ".concat(x(j)):w?"Product Size: ".concat(x(w)):_?"Tag: ".concat(x(_)):C?"Product  Color: ".concat(x(C)):O?"Search: ".concat(x(O)):d||"Shop",text:m||"Shop",type:"primary"===h?2:3,isCapitalize:!!j}),(0,a.jsx)(S.Z,{value:{filteredProducts:U,searchedItems:R,handleSearch:E,handleSearchString:I,startSearch:T,closeSearch:B,isShowSearch:L,isShowQuickSearchResult:F,setIsShowQuickSearchResult:M,isShop:!0,currentPath:Z,category:g,brand:j,tag:_,size:w},children:(0,a.jsx)(f,{isSidebar:h,currentTapId:p})})]})}},7524:function(e,t,r){"use strict";var a=r(7437),n=r(7648);t.Z=e=>{let{text:t,title:r,item:l,type:s,mb:i,isCapitalize:c,bg:o}=e,{name:u,path:d}=l||{};return(0,a.jsx)("div",{className:"ltn__breadcrumb-area ".concat(3===s?"ltn__breadcrumb-area-2 plr--9":2===s?"ltn__breadcrumb-area-3 plr--9":"ltn__breadcrumb-area-2","  ltn__breadcrumb-color-white bg-overlay-theme-black-90 bg-image ").concat(i||""),"data-bs-bg":o||"/img/bg/9.jpg",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-lg-12",children:(0,a.jsxs)("div",{className:"ltn__breadcrumb-inner ltn__breadcrumb-inner-2 justify-content-between",children:[(0,a.jsxs)("div",{className:"section-title-area ltn__section-title-2",children:[(0,a.jsx)("h6",{className:"section-subtitle ltn__secondary-color"}),(0,a.jsx)("h1",{className:"section-title white-color ".concat(c?"text-capitalize":""),children:r})]}),(0,a.jsx)("div",{className:"ltn__breadcrumb-list",children:(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:(0,a.jsx)(n.default,{href:"/",children:"Home"})})," ",l?(0,a.jsx)("li",{children:(0,a.jsx)(n.default,{href:d,children:u})}):""," ",(0,a.jsx)("li",{children:t})]})})]})})})})})}},9692:function(e,t){"use strict";t.Z=e=>{var t,r;let a=null===(t=e.toLowerCase())||void 0===t?void 0:t.split("/").join(" ").split("&").join(" ");return null==a?void 0:null===(r=a.split(" "))||void 0===r?void 0:r.join("_")}}},function(e){e.O(0,[300,699,990,461,834,157,371,971,117,744],function(){return e(e.s=6451)}),_N_E=e.O()}]);