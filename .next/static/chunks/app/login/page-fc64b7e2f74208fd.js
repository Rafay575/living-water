(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{834:function(e,s,t){Promise.resolve().then(t.t.bind(t,2972,23)),Promise.resolve().then(t.bind(t,4161)),Promise.resolve().then(t.bind(t,8371))},9376:function(e,s,t){"use strict";var a=t(5475);t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},2078:function(e,s,t){"use strict";t.d(s,{F:function(){return a}});let a="http://localhost:5000"},4161:function(e,s,t){"use strict";var a=t(7437),r=t(2265),n=t(7648),o=t(8575),l=t(4131),i=t(9376),c=t(7475),d=t(2078);s.default=()=>{let[e,s]=(0,r.useState)(!1),[t,u]=(0,r.useState)({type:"",message:""}),m=(0,o.I0)(),h=(0,i.useRouter)(),{token:p,user:f}=(0,o.v9)(e=>e.auth);console.log(p,f);let g=async e=>{e.preventDefault(),u({type:"",message:""}),s(!0);let t=new FormData(e.target),a={email:t.get("email"),password:t.get("password")};try{let e=await fetch("".concat(d.F,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),s=await e.json();e.ok?(m((0,c.Dj)({user:s.user||{},token:s.token})),l.Z.set("token",s.token,{expires:7}),u({type:"success",message:"Logged in successfully."}),h.push("/")):u({type:"danger",message:s.error||"Login failed."})}catch(e){u({type:"danger",message:"An unexpected error occurred."})}finally{s(!1)}};return(0,a.jsx)("div",{className:"register-section py-5",style:{background:"#f8f9fa",minHeight:"100vh"},children:(0,a.jsxs)("div",{className:"container",children:[t.message&&(0,a.jsx)("div",{className:"alert alert-".concat(t.type," text-center"),role:"alert",children:t.message}),(0,a.jsx)("div",{className:"row justify-content-center",children:(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsx)("div",{className:"card shadow-sm",style:{borderRadius:10},children:(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsx)("h2",{className:"card-title text-center mb-4",children:"Sign In To Your Account"}),(0,a.jsxs)("form",{onSubmit:g,children:[(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),(0,a.jsx)("input",{type:"email",id:"email",name:"email",className:"form-control",placeholder:"Enter email",required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),(0,a.jsx)("input",{type:"password",id:"password",name:"password",className:"form-control",placeholder:"Enter password",required:!0})]}),(0,a.jsxs)("button",{type:"submit",className:"btn btn-primary w-100",disabled:e,children:[e&&(0,a.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),e?"Signing In...":"Sign In"]})]}),(0,a.jsxs)("p",{className:"text-center mt-3 mb-0",children:["Don't have an account? ",(0,a.jsx)(n.default,{href:"/register",children:"Create one"})]})]})})})})]})})}},7475:function(e,s,t){"use strict";t.d(s,{Dj:function(){return l}});var a=t(1455),r=t(4131);let n=r.Z.get("token")||null,o=(0,a.oM)({name:"auth",initialState:{user:{},token:n},reducers:{setCredentials(e,s){let{user:t,token:a}=s.payload;e.user=t,e.token=a},logout(e){e.user={},e.token=null,r.Z.remove("token")}}}),{setCredentials:l,logout:i}=o.actions;s.ZP=o.reducer}},function(e){e.O(0,[300,699,990,461,834,157,789,371,971,117,744],function(){return e(e.s=834)}),_N_E=e.O()}]);