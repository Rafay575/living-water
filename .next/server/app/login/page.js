(()=>{var e={};e.id=626,e.ids=[626],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},5037:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(611),s(6765),s(2626),s(8993);var r=s(170),a=s(5002),n=s(3876),i=s.n(n),o=s(6299),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,611)),"D:\\waste\\github\\theme2\\broccoli\\frontend\\src\\app\\login\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,6765)),"D:\\waste\\github\\theme2\\broccoli\\frontend\\src\\app\\layout.js"],error:[()=>Promise.resolve().then(s.bind(s,2626)),"D:\\waste\\github\\theme2\\broccoli\\frontend\\src\\app\\error.js"],"not-found":[()=>Promise.resolve().then(s.bind(s,8993)),"D:\\waste\\github\\theme2\\broccoli\\frontend\\src\\app\\not-found.js"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\waste\\github\\theme2\\broccoli\\frontend\\src\\app\\login\\page.js"],u="/login/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4315:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,4080,23)),Promise.resolve().then(s.bind(s,9504)),Promise.resolve().then(s.bind(s,4034))},4178:(e,t,s)=>{"use strict";var r=s(5289);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},4909:(e,t,s)=>{"use strict";s.d(t,{F:()=>r});let r="http://localhost:5000"},9504:(e,t,s)=>{"use strict";s.d(t,{default:()=>u});var r=s(7247),a=s(8964),n=s(9906),i=s(3102),o=s(2266),l=s(4178),d=s(7643),c=s(4909);let u=()=>{let[e,t]=(0,a.useState)(!1),[s,u]=(0,a.useState)({type:"",message:""}),m=(0,i.I0)(),p=(0,l.useRouter)(),{token:h,user:g}=(0,i.v9)(e=>e.auth);console.log(h,g);let x=async e=>{e.preventDefault(),u({type:"",message:""}),t(!0);let s=new FormData(e.target),r={email:s.get("email"),password:s.get("password")};try{let e=await fetch(`${c.F}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),t=await e.json();e.ok?(m((0,d.Dj)({user:t.user||{},token:t.token})),o.Z.set("token",t.token,{expires:7}),u({type:"success",message:"Logged in successfully."}),p.push("/")):u({type:"danger",message:t.error||"Login failed."})}catch{u({type:"danger",message:"An unexpected error occurred."})}finally{t(!1)}};return r.jsx("div",{className:"register-section py-5",style:{background:"#f8f9fa",minHeight:"100vh"},children:(0,r.jsxs)("div",{className:"container",children:[s.message&&r.jsx("div",{className:`alert alert-${s.type} text-center`,role:"alert",children:s.message}),r.jsx("div",{className:"row justify-content-center",children:r.jsx("div",{className:"col-md-6",children:r.jsx("div",{className:"card shadow-sm",style:{borderRadius:10},children:(0,r.jsxs)("div",{className:"card-body",children:[r.jsx("h2",{className:"card-title text-center mb-4",children:"Sign In To Your Account"}),(0,r.jsxs)("form",{onSubmit:x,children:[(0,r.jsxs)("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),r.jsx("input",{type:"email",id:"email",name:"email",className:"form-control",placeholder:"Enter email",required:!0})]}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),r.jsx("input",{type:"password",id:"password",name:"password",className:"form-control",placeholder:"Enter password",required:!0})]}),(0,r.jsxs)("button",{type:"submit",className:"btn btn-primary w-100",disabled:e,children:[e&&r.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),e?"Signing In...":"Sign In"]})]}),(0,r.jsxs)("p",{className:"text-center mt-3 mb-0",children:["Don't have an account? ",r.jsx(n.default,{href:"/register",children:"Create one"})]})]})})})})]})})}},611:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(2051),a=s(8724);let n=(0,s(5347).createProxy)(String.raw`D:\waste\github\theme2\broccoli\frontend\src\components\sections\login\LoginPrimary.js#default`),i=()=>(0,r.jsxs)("main",{children:[r.jsx(a.Z,{title:"Sign In",text:"Login"}),r.jsx(n,{})]});var o=s(5409);s(6269);let l=()=>r.jsx(o.Z,{isNotHeaderTop:!0,isHeaderRight:!0,isTextWhite:!0,isNavbarAppointmentBtn:!0,children:r.jsx(i,{})})}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[379,556,85],()=>s(5037));module.exports=r})();