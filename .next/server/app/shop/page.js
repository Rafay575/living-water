(()=>{var e={};e.id=21,e.ids=[21],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},6444:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>h,tree:()=>c}),r(4253),r(6765),r(2626),r(8993);var s=r(170),a=r(5002),n=r(3876),l=r.n(n),i=r(6299),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let c=["",{children:["shop",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4253)),"D:\\waste\\github\\theme2\\broccoli\\frontend\\src\\app\\shop\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,6765)),"D:\\waste\\github\\theme2\\broccoli\\frontend\\src\\app\\layout.js"],error:[()=>Promise.resolve().then(r.bind(r,2626)),"D:\\waste\\github\\theme2\\broccoli\\frontend\\src\\app\\error.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,8993)),"D:\\waste\\github\\theme2\\broccoli\\frontend\\src\\app\\not-found.js"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["D:\\waste\\github\\theme2\\broccoli\\frontend\\src\\app\\shop\\page.js"],d="/shop/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/shop/page",pathname:"/shop",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5873:(e,t,r)=>{Promise.resolve().then(r.bind(r,8103)),Promise.resolve().then(r.bind(r,4034))},4178:(e,t,r)=>{"use strict";var s=r(5289);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},7692:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let s=r(352);r(7247),r(8964);let a=s._(r(2404));function n(e,t){var r;let s={loading:e=>{let{error:t,isLoading:r,pastDelay:s}=e;return null}};"function"==typeof e&&(s.loader=e);let n={...s,...t};return(0,a.default)({...n,modules:null==(r=n.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9304:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let s=r(7173);function a(e){let{reason:t,children:r}=e;throw new s.BailoutToCSRError(t)}},2404:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let s=r(7247),a=r(8964),n=r(9304),l=r(4146);function i(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},c=function(e){let t={...o,...e},r=(0,a.lazy)(()=>t.loader().then(i)),c=t.loading;function u(e){let i=c?(0,s.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,o=t.ssr?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.PreloadCss,{moduleIds:t.modules}),(0,s.jsx)(r,{...e})]}):(0,s.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(r,{...e})});return(0,s.jsx)(a.Suspense,{fallback:i,children:o})}return u.displayName="LoadableComponent",u}},4146:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return n}});let s=r(7247),a=r(4580);function n(e){let{moduleIds:t}=e,r=(0,a.getExpectedRequestStore)("next/dynamic css"),n=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files.filter(e=>e.endsWith(".css"));n.push(...t)}}return 0===n.length?null:(0,s.jsx)(s.Fragment,{children:n.map(e=>(0,s.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:r.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},4909:(e,t,r)=>{"use strict";r.d(t,{F:()=>s});let s="http://localhost:5000"},8103:(e,t,r)=>{"use strict";r.d(t,{default:()=>w});var s=r(7247),a=r(4597),n=r(8610),l=r(8964),i=r(4178),o=r(3102),c=r(7692),u=r.n(c),d=r(4909);let p=u()(async()=>{},{loadableGenerated:{modules:["components\\sections\\products\\ProductsPrimary.js -> @paypal/react-paypal-js"]},ssr:!1}),h=u()(async()=>{},{loadableGenerated:{modules:["components\\sections\\products\\ProductsPrimary.js -> @paypal/react-paypal-js"]},ssr:!1});function m({children:e}){let[t,r]=(0,l.useState)(!1);return t?e:null}function g(){let e=(0,i.useRouter)(),{token:t}=(0,o.v9)(e=>e.auth),[r,n]=(0,l.useState)("/img/abc.png"),[c,u]=(0,l.useState)(0),[g,f]=(0,l.useState)({type:"",message:""}),[x,j]=(0,l.useState)({line1:"",city:"",state:"",zip:"",country:"",phone:""}),v=Object.values(x).every(e=>e.trim()),y=[{cases:1,description:"12 (20 oz) bottles",price:20},{cases:6,description:"12 (20 oz) bottles",price:110},{cases:12,description:"12 (20 oz) bottles",price:220}],b=y[c],P=async()=>{if(!t){e.push("/login");return}let r=await fetch(`${d.F}/api/purchase/create-order`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({price:b.price,shipping:x})}),{orderID:s}=await r.json();return s},S=async e=>{let r=await fetch(`${d.F}/api/purchase`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({orderID:e.orderID,cases:b.cases,description:b.description,price:b.price,shipping:x})}),s=await r.json();f(r.ok?{type:"success",message:"Purchase recorded!"}:{type:"danger",message:s.error||"Record failed"})};return(0,s.jsxs)("div",{className:"container py-4",style:{marginBottom:"150px"},children:[g.message&&s.jsx("div",{className:`alert alert-${g.type}`,children:g.message}),(0,s.jsxs)("div",{className:"row gy-4",children:[(0,s.jsxs)("div",{className:"col-12 col-md-6",children:[s.jsx("div",{className:"mb-3 d-flex gap-2 flex-wrap",children:y.map((e,t)=>s.jsx("img",{src:"/img/abc.png",alt:"",className:"img-thumbnail",style:{width:60,height:60,cursor:"pointer"},onClick:()=>n("/img/abc.png")},t))}),s.jsx("div",{className:"text-center",children:s.jsx(a.default,{src:r,alt:"Living Water",width:400,height:400,className:"rounded"})})]}),(0,s.jsxs)("div",{className:"col-12 col-md-6",children:[s.jsx("h1",{className:"fw-bold",children:"Living Water"}),s.jsx("p",{className:"text-muted",children:"Our water is inherently PURE and free from chemicalsâ€¦"}),s.jsx("h5",{className:"mt-4",children:"Choose Your Package"}),s.jsx("div",{className:"row gy-3",children:y.map((e,t)=>s.jsx("div",{className:"col-md-4",children:s.jsx("div",{className:`card h-100 text-center ${c===t?"border-primary shadow":""}`,onClick:()=>u(t),style:{cursor:"pointer"},children:(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsxs)("h6",{children:[e.cases," Case",e.cases>1?"s":""]}),s.jsx("small",{className:"text-muted d-block",children:e.description}),(0,s.jsxs)("p",{className:"h5 mt-2 mb-0",children:["$",e.price,".00"]}),s.jsx("small",{className:"text-secondary",children:"USD"})]})})},t))}),s.jsx("h5",{className:"mt-4",children:"Shipping Address"}),(0,s.jsxs)("div",{className:"row g-3",children:[s.jsx("div",{className:"col-md-12",children:s.jsx("input",{className:"form-control",placeholder:"Street address (Line 1)",value:x.line1,onChange:e=>j({...x,line1:e.target.value})})}),s.jsx("div",{className:"col-md-6",children:s.jsx("input",{className:"form-control",placeholder:"City / Town",value:x.city,onChange:e=>j({...x,city:e.target.value})})}),s.jsx("div",{className:"col-md-6",children:s.jsx("input",{className:"form-control",placeholder:"State / Province / Region",value:x.state,onChange:e=>j({...x,state:e.target.value})})}),s.jsx("div",{className:"col-md-6",children:s.jsx("input",{className:"form-control",placeholder:"ZIP / Postal code",value:x.zip,onChange:e=>j({...x,zip:e.target.value})})}),s.jsx("div",{className:"col-md-6",children:s.jsx("input",{className:"form-control",placeholder:"Country code (e.g. US, PK)",value:x.country,onChange:e=>j({...x,country:e.target.value.toUpperCase()})})}),s.jsx("div",{className:"col-md-12",children:s.jsx("input",{className:"form-control",placeholder:"Phone number",value:x.phone,onChange:e=>j({...x,phone:e.target.value})})})]}),s.jsx("div",{className:"mt-4",suppressHydrationWarning:!0,children:(0,s.jsxs)(m,{children:[s.jsx(p,{options:{"client-id":"AftLDvxL_UjEtmlHPOL5AptiEIIhbyYOYO55zYFj_bXZnS16sNFZaB_a06j63FO4XB-NY3CdjCpO_IqF",currency:"USD","disable-funding":"paylater,card,credit"},children:s.jsx(h,{style:{layout:"vertical"},createOrder:P,onApprove:S,onError:e=>{console.error(e),f({type:"danger",message:"PayPal error, please try again."})},disabled:!v})}),!v&&s.jsx("small",{className:"text-danger",children:"Please complete the shipping form to enable checkout."})]})})]})]})]})}let f=e=>{let t=e?.split("-");return{lowerLimit:parseInt(t[0]),upperLimit:parseInt(t[1])}};var x=r(3038),j=r(3923);let v=e=>e.split("_").join(" "),y=(e,t,r,s)=>{switch(t){case"category":return e?.filter(({type:e,category:t})=>j.Z(s?e:t)===r);case"brand":return e?.filter(({brand:e})=>j.Z(e)===r);case"tags":return e?.filter(({tags:e})=>e?.includes(v(r)));case"size":return e?.filter(({size:e})=>j.Z(e)===r);case"color":return e?.filter(({color:e})=>j.Z(e)===r);case"range":let{lowerLimit:a,upperLimit:n}=f(r);return e?.filter(({price:e,disc:t})=>{let{netPrice:r}=x.Z(e,t);return r>=a&&r<=n});case"author":return e?.filter(({author:e})=>j.Z(e?.name)===r);case"role":return e?.filter(({author:e})=>j.Z(e?.desig)===r);case"search":if(!r)return[];let l=RegExp(v(r),"i");return e?.filter(({title:e})=>l.test(e));case"popularity":return[...e].sort((e,t)=>t.views-e.views);case"new":return[...e].sort((e,t)=>t.date-e.date);case"price ascending":return[...e].sort(({price:e,disc:t},{price:r,disc:s})=>{let{netPrice:a}=x.Z(e,t),{netPrice:n}=x.Z(r,s);return a-n});case"price descending":return[...e].sort(({price:e,disc:t},{price:r,disc:s})=>{let{netPrice:a}=x.Z(e,t),{netPrice:n}=x.Z(r,s);return n-a});default:return e}},b=(e,t)=>{let[r,s]=(0,l.useState)(null),[a,n]=(0,l.useState)(null),[o,c]=(0,l.useState)(null),[u,d]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),m=(0,l.useRef)(null),g=(0,i.useRouter)();return{searchString:r,searchedItems:a,previousSearchedItems:o,isShowSearch:u,setIsShowSearch:d,handleSearch:e=>{e.preventDefault(),g.push(`${t}?search=${(0,j.Z)(r)}`),d(!0),c(a),e.target.search.value=""},handleSearchString:e=>{let t=e.target.value;d(!1),s(t.toLowerCase()),h(!0)},startSearch:()=>{m.current=setTimeout(()=>{n(y(e,"search",r))},200)},closeSearch:()=>{clearTimeout(m.current)},isShowQuickSearchResult:p,setIsShowQuickSearchResult:h}};var P=r(6077);let S=(e,t,r,s,a)=>{let n=setInterval(()=>{window.$&&(clearInterval(n),$(".slider-range").slider({range:!0,min:r,max:t,values:[r,s],slide:function(t,r){e&&e(`${r.values[0]}-${r.values[1]}`),$(".amount").val("$"+r.values[0]+" - $"+r.values[1])}}),$(".amount").val("$"+$(".slider-range").slider("values",0)+" - $"+$(".slider-range").slider("values",1)))},100)};var N=r(7);let w=({title:e,isSidebar:t,text:r,currentTapId:a})=>{let o=(0,P.Z)(),c=i.useSearchParams()?.get("category"),u=i.useSearchParams()?.get("brand"),d=i.useSearchParams()?.get("tag"),p=i.useSearchParams()?.get("size"),h=i.useSearchParams()?.get("color"),m=i.useSearchParams()?.get("search"),f=(0,i.usePathname)(),[x,j]=(0,l.useState)(null),{searchedItems:w,isShowSearch:_,handleSearch:C,handleSearchString:O,startSearch:Z,closeSearch:R,isShowQuickSearchResult:z,setIsShowQuickSearchResult:T}=b(o,f),L=y(o,c?"category":u?"brand":d?"tags":p?"size":h?"color":m?"search":"",c||u||d||p||h||m||"",!0),D=y(L,x?"range":"",x||"");return(0,l.useEffect)(()=>{S(j,5e3,50,1500,!0),j(null)},[c,d,,p,,h,,m,50,5e3,1500]),(0,l.useEffect)(()=>{S(j,5e3,50,1500)},[50,1500,5e3]),(0,s.jsxs)("main",{children:[s.jsx(n.Z,{title:c?`Category: ${v(c)}`:u?`Brand: ${v(u)}`:p?`Product Size: ${v(p)}`:d?`Tag: ${v(d)}`:h?`Product  Color: ${v(h)}`:m?`Search: ${v(m)}`:e||"Shop",text:r||"Shop",type:"primary"===t?2:3,isCapitalize:!!u}),s.jsx(N.Z,{value:{filteredProducts:D,searchedItems:w,handleSearch:C,handleSearchString:O,startSearch:Z,closeSearch:R,isShowSearch:_,isShowQuickSearchResult:z,setIsShowQuickSearchResult:T,isShop:!0,currentPath:f,category:c,brand:u,tag:d,size:p},children:s.jsx(g,{isSidebar:t,currentTapId:a})})]})}},3923:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=e=>{let t=e.toLowerCase()?.split("/").join(" ").split("&").join(" ");return t?.split(" ")?.join("_")}},4253:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(2051);let a=(0,r(5347).createProxy)(String.raw`D:\waste\github\theme2\broccoli\frontend\src\components\layout\main\ShopMain.js#default`);var n=r(5409);let l=()=>s.jsx(n.Z,{isNotHeaderTop:!0,isHeaderRight:!0,isTextWhite:!0,isNavbarAppointmentBtn:!0,children:s.jsx(a,{isSidebar:"primary"})})}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[379,556,85],()=>r(6444));module.exports=s})();